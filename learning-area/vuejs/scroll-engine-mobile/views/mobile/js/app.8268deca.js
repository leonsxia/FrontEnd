(function(){"use strict";var e={5147:function(e,t,s){var i=s(5130),o=s(6768);const n={class:"app-wrapper",ref:"my-app"},r={id:"debug-info-left",ref:"debug-info-left"},h={id:"debug-info-right",ref:"debug-info-right"};function c(e,t,s,i,c,l){const a=(0,o.g2)("my-canvas"),p=(0,o.g2)("game-pad");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("p",r,null,512),(0,o.Lk)("p",h,null,512),(0,o.bF)(a,{ref:"my-canvas"},null,512),(0,o.bF)(p,{onUpPressed:l.onGamePadUpPressed,onUpUnpressed:l.onGamePadUpUnpressed,onDownPressed:l.onGamePadDownPressed,onDownUnpressed:l.onGamePadDownUnpressed,onRightPressed:l.onGamePadRightPressed,onRightUnpressed:l.onGamePadRightUnPressed,onLeftPressed:l.onGamePadLeftPressed,onLeftUnpressed:l.onGamePadLeftUnpressed,onXPressed:l.onGamePadXPressed,onXUnpressed:l.onGamePadXUnpressed,onYPressed:l.onGamePadYPressed,onYUnpressed:l.onGamePadYUnpressed,onAPressed:l.onGamePadAPressd,onAUnpressed:l.onGamePadAUnpressd,onBPressed:l.onGamePadBPressed,onBUnpressed:l.onGamePadBUnpressed},null,8,["onUpPressed","onUpUnpressed","onDownPressed","onDownUnpressed","onRightPressed","onRightUnpressed","onLeftPressed","onLeftUnpressed","onXPressed","onXUnpressed","onYPressed","onYUnpressed","onAPressed","onAUnpressed","onBPressed","onBUnpressed"])],512)}s(4114);const l={class:"my-canvas-wrapper"},a={ref:"my-canvas",class:"my-canvas"};function p(e,t,s,i,n,r){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("canvas",a,null,512)])}var d={data(){return{provider:{context:null}}},provide(){return{provider:this.provider}},mounted(){this.provider.context=this.$refs["my-canvas"].getContext("2d");const e=500,t=281.25,s=window.devicePixelRatio;this.$refs["my-canvas"].style.width=`${e}px`,this.$refs["my-canvas"].style.height=`${t}px`,this.$refs["my-canvas"].width=e*s,this.$refs["my-canvas"].height=t*s,this.provider.context.scale(s,s)}},f=s(1241);const g=(0,f.A)(d,[["render",p],["__scopeId","data-v-027a9c85"]]);var u=g;const m=e=>((0,o.Qi)("data-v-e2e6fbe6"),e=e(),(0,o.jt)(),e),A={class:"my-game-pad"},v={class:"left-controls"},w=m((()=>(0,o.Lk)("span",null,null,-1))),y=[w],P=m((()=>(0,o.Lk)("span",null,null,-1))),X=[P],k=m((()=>(0,o.Lk)("span",null,null,-1))),b=[k],L=m((()=>(0,o.Lk)("span",null,null,-1))),U=[L],C={class:"right-controls"},x=m((()=>(0,o.Lk)("span",null,"X",-1))),S=[x],D=m((()=>(0,o.Lk)("span",null,"Y",-1))),$=[D],F=m((()=>(0,o.Lk)("span",null,"A",-1))),M=[F],W=m((()=>(0,o.Lk)("span",null,"B",-1))),Y=[W];function R(e,t,s,i,n,r){return(0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("div",v,[(0,o.Lk)("button",{class:"up",onTouchstart:t[0]||(t[0]=(...e)=>r.onUpPressed&&r.onUpPressed(...e)),onTouchend:t[1]||(t[1]=(...e)=>r.onUpUnpressed&&r.onUpUnpressed(...e))},y,32),(0,o.Lk)("button",{class:"down",onTouchstar:t[2]||(t[2]=(...e)=>r.onDownPressed&&r.onDownPressed(...e)),onTouchend:t[3]||(t[3]=(...e)=>r.onDownUnPressed&&r.onDownUnPressed(...e))},X,32),(0,o.Lk)("button",{class:"left",onTouchstart:t[4]||(t[4]=(...e)=>r.onLeftPressed&&r.onLeftPressed(...e)),onTouchend:t[5]||(t[5]=(...e)=>r.onLeftUnpressed&&r.onLeftUnpressed(...e))},b,32),(0,o.Lk)("button",{class:"right",onTouchstart:t[6]||(t[6]=(...e)=>r.onRightPressed&&r.onRightPressed(...e)),onTouchend:t[7]||(t[7]=(...e)=>r.onRightUnpressed&&r.onRightUnpressed(...e))},U,32)]),(0,o.Lk)("div",C,[(0,o.Lk)("button",{class:"X",onTouchstart:t[8]||(t[8]=(...e)=>r.onXPressed&&r.onXPressed(...e)),onTouchend:t[9]||(t[9]=(...e)=>r.onXUnpressed&&r.onXUnpressed(...e))},S,32),(0,o.Lk)("button",{class:"Y",onTouchstart:t[10]||(t[10]=(...e)=>r.onYPressed&&r.onYPressed(...e)),onTouchend:t[11]||(t[11]=(...e)=>r.onYUnpressed&&r.onYUnpressed(...e))},$,32),(0,o.Lk)("button",{class:"A",onTouchstart:t[12]||(t[12]=(...e)=>r.onAPressed&&r.onAPressed(...e)),onTouchend:t[13]||(t[13]=(...e)=>r.onAUnpressed&&r.onAUnpressed(...e))},M,32),(0,o.Lk)("button",{class:"B",onTouchstart:t[14]||(t[14]=(...e)=>r.onBPressed&&r.onBPressed(...e)),onTouchend:t[15]||(t[15]=(...e)=>r.onBUnpressed&&r.onBUnpressed(...e))},Y,32)])])}var T={name:"GamePad",methods:{onUpPressed(){console.log("up pressed"),this.$emit("up-pressed")},onUpUnpressed(){console.log("up unpressed"),this.$emit("up-unpressed")},onDownPressed(){this.$emit("down-pressed")},onDownUnPressed(){this.$emit("down-unpressed")},onLeftPressed(){this.$emit("left-pressed")},onLeftUnpressed(){this.$emit("left-unpressed")},onRightPressed(){this.$emit("right-pressed")},onRightUnpressed(){this.$emit("right-unpressed")},onXPressed(){this.$emit("x-pressed")},onXUnpressed(){this.$emit("x-unpressed")},onYPressed(){this.$emit("y-pressed")},onYUnpressed(){this.$emit("y-unpressed")},onAPressed(){this.$emit("a-pressed")},onAUnpressed(){this.$emit("a-unpressed")},onBPressed(){this.$emit("b-pressed")},onBUnpressed(){this.$emit("b-unpressed")}}};const G=(0,f.A)(T,[["render",R],["__scopeId","data-v-e2e6fbe6"]]);var B=G;class j{constructor(e,t,s,i,o,n){this.posX=e,this.posY=t,this.spriteWidth=s,this.spriteHeight=i,this.notCollisionColor=o,this.spriteFrames=0,this.config=n}get collisionCenterX(){return this.posX+this.spriteWidth/2}get collisionCenterY(){return this.posY+this.spriteHeight/2}}class H extends j{constructor(e,t,s,i,o,n){super(e[0],e[1],t[0],t[1],s,o),this.color=s,this.type=i,this.isBuffer=n}draw(){switch(this.type){case"rectangle_stroke":this.config.ctx.strokeStyle=this.color,this.config.ctx.strokeRect(this.posX,this.posY,this.spriteWidth,this.spriteHeight);break;case"rectangle_fill":this.config.ctx.fillStyle=this.color,this.config.ctx.fillRect(this.posX,this.posY,this.spriteWidth,this.spriteHeight)}}}var E=s(4212),J=s(4675),_=s(8015),K=new WeakMap,I=new WeakMap,O=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Q=new WeakMap,N=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,se=new WeakMap,ie=new WeakMap;class oe extends j{constructor(e,t,s,i,o,n,r,h){super(s[0],s[1],n[0],n[1],r,h),(0,E.A)(this,K,!1),(0,E.A)(this,I,!1),(0,E.A)(this,O,!1),(0,E.A)(this,V,!1),(0,E.A)(this,z,!1),(0,E.A)(this,q,!1),(0,E.A)(this,Q,!0),(0,E.A)(this,N,!1),(0,E.A)(this,Z,!1),(0,E.A)(this,ee,!1),(0,E.A)(this,te,!1),(0,E.A)(this,se,!0),(0,E.A)(this,ie,!1),this.velX=1,this.velY=6,this.velXFast=3,this.velG=0,this.direction="right",this.imageLeft=e,this.imageRight=t,this.sprite=0,this.jumpMaxHeight=200,this.frameRate=i,this.fastFrameRate=o,this.inAirFrame=0,this.elapsedTime=0,this.gravity=9.8,this.upEffect=1.7,this.downEffect=.6,this.elapsedMSPerFrame=this.config.msPerFrame,this.color=r,this.jumpTimes=0,this.topJumpTimes=1,this.scrollActiveColor="green"}get isMove(){return(0,_.A)(q,this)}get fasten(){return(0,_.A)(V,this)}get bottomY(){return this.posY+this.spriteHeight}get isInAir(){return this.bottomY<this.config.groundLevel&&!(0,_.A)(te,this)}get isFalling(){return!this.jump&&this.isInAir}get isAtCenter(){return this.collisionCenterX>=this.config.centerLineX+this.config.centerLeft&&this.collisionCenterX<=this.config.centerLineX+this.config.centerRight}get isAtRightSection(){return this.collisionCenterX>=this.config.centerLineX}get isWithinRightSection(){return this.collisionCenterX>this.config.centerLineX}get isAtLeftScrollLine(){return this.collisionCenterX>=this.config.leftScrollLeft&&this.collisionCenterX<=this.config.leftScrollRight}get isAtLeftBorder(){let e=(0,_.A)(V,this)?this.config.velFactor*this.velXFast:this.config.velFactor*this.velX;return this.collisionCenterX<=-this.config.width/2+this.spriteWidth/2&&this.collisionCenterX>=-this.config.width/2+this.spriteWidth/2-e}get isAtRightBorder(){let e=(0,_.A)(V,this)?this.config.velFactor*this.velXFast:this.config.velFactor*this.velX;return this.collisionCenterX>=this.config.width/2-this.spriteWidth/2&&this.collisionCenterX<=this.config.width/2-this.spriteWidth/2+e}get centerX(){return-this.spriteWidth/2}get leftScrollX(){return-this.config.width/2+this.config.leftScrollCenterFactor-this.spriteWidth/2}get isBlockHorizontal(){return(0,_.A)(N,this)||(0,_.A)(Z,this)}get jump(){return(0,_.A)(z,this)}get AKeyDown(){return(0,_.A)(K,this)}get DKeyDown(){return(0,_.A)(I,this)}get SpaceKeyDown(){return(0,_.A)(O,this)}get enableScroll(){return(0,_.A)(se,this)}get isAtBuffer(){return(0,_.A)(ie,this)}set isMove(e){(0,J.A)(q,this,e)}set fasten(e){(0,J.A)(V,this,e)}set AKeyDown(e){(0,J.A)(K,this,e)}set DKeyDown(e){(0,J.A)(I,this,e)}set SpaceKeyDown(e){(0,J.A)(O,this,e)}draw(){"right"===this.direction?this.config.ctx.drawImage(this.imageRight,this.sprite*this.spriteWidth/this.config.scale,0,this.spriteWidth/this.config.scale,this.spriteHeight/this.config.scale,0+this.posX,this.posY,this.spriteWidth,this.spriteHeight):this.config.ctx.drawImage(this.imageLeft,(5-this.sprite)*this.spriteWidth/this.config.scale,0,this.spriteWidth/this.config.scale,this.spriteHeight/this.config.scale,0+this.posX,this.posY,this.spriteWidth,this.spriteHeight),(0,_.A)(Q,this)&&(this.config.ctx.beginPath(),this.config.ctx.strokeStyle=this.color,this.config.ctx.strokeRect(this.posX,this.posY,this.spriteWidth,this.spriteHeight),this.config.ctx.fillStyle=this.scrollActiveColor,this.config.ctx.fillRect(this.collisionCenterX-5,this.posY-5,10,5))}checkMovement(){if((0,_.A)(q,this)){if(this.spriteFrames*this.config.velFactor%((0,_.A)(V,this)?this.fastFrameRate:this.frameRate)===0&&(5===this.sprite?this.sprite=0:this.sprite++),"right"===this.direction){let e=this.posX;this.posX+=(0,_.A)(V,this)?this.config.velFactor*this.velXFast:this.config.velFactor*this.velX,!(0,_.A)(se,this)||!this.isAtRightSection||this.isBlockHorizontal||this.isAtBuffer||this.isAtRightBorder||(this.posX=e+this.spriteWidth/2<this.config.centerLineX?this.config.centerLineX-this.spriteWidth/2:e)}else(!this.isAtLeftBorder&&!this.isAtLeftScrollLine||this.isAtBuffer)&&(this.posX-=(0,_.A)(V,this)?this.config.velFactor*this.velXFast:this.config.velFactor*this.velX),!(0,_.A)(se,this)||!this.isAtLeftScrollLine||this.isBlockHorizontal||this.isAtBuffer||this.isAtLeftBorder||(this.posX=this.posX>this.leftScrollX?this.posX:this.leftScrollX);this.spriteFrames++}else this.sprite=0,this.spriteFrames=0;(0,_.A)(z,this)?(this.inAirFrame++,this.inAirFrame%1===0&&(this.elapsedTime+=this.elapsedMSPerFrame/1e3),this.velG=this.velY-this.upEffect*this.gravity*this.elapsedTime,this.velG>0?(this.posY-=this.velG*this.config.velFactor,this.sprite="right"===this.direction?2:5):this.resetJumpStatus(!1)):this.bottomY<this.config.groundLevel&&!(0,_.A)(te,this)&&(this.inAirFrame++,this.inAirFrame%1===0&&(this.elapsedTime+=this.elapsedMSPerFrame/1e3),this.posY+=(this.velY+this.downEffect*this.gravity*this.elapsedTime)*this.config.velFactor,this.bottomY>this.config.groundLevel&&(this.posY=this.config.groundLevel-this.spriteHeight,this.jumpTimes=0,this.velG=0,(0,_.A)(O,this)&&this.resetJumpStatus(!0)))}collisionDetect(e){const t="rgb(255, 0, 0)",s="brown";(0,J.A)(N,this,(0,J.A)(Z,this,(0,J.A)(ee,this,(0,J.A)(te,this,!1))));let i=!1;e.forEach((e=>{let o=Math.abs(this.collisionCenterX-e.collisionCenterX),n=Math.abs(this.collisionCenterY-e.collisionCenterY),r=this.spriteWidth/2+e.spriteWidth/2,h=this.spriteHeight/2+e.spriteHeight/2,c=!1;if(n<h){let t=(0,_.A)(V,this)?this.config.velFactor*this.velXFast:this.config.velFactor*this.velX;this.collisionCenterX<e.collisionCenterX&&o<=r&&o>=r-t&&((0,J.A)(Z,this,!0),this.posX=e.posX-this.spriteWidth,o=Math.abs(this.collisionCenterX-e.collisionCenterX),c=!0),this.collisionCenterX>e.collisionCenterX&&o<=r&&o>=r-t&&((0,J.A)(N,this,!0),this.posX=e.posX+e.spriteWidth,o=Math.abs(this.collisionCenterX-e.collisionCenterX),c=!0)}o<r&&(this.collisionCenterY<e.collisionCenterY&&n<=h&&((0,J.A)(te,this,!0),this.posY=e.posY-this.spriteHeight,n=Math.abs(this.collisionCenterY-e.collisionCenterY),c=!0,this.resetJumpStatus(!1),this.jumpTimes=0,this.velG=0,(0,_.A)(O,this)&&this.resetJumpStatus(!0)),this.collisionCenterY>e.collisionCenterY&&n<=h&&((0,J.A)(ee,this,!0),this.resetJumpStatus(!1),this.posY=e.posY+e.spriteHeight,n=Math.abs(this.collisionCenterY-e.collisionCenterY),c=!0)),e.color=c?t:e.notCollisionColor,e.isBuffer&&this.posX>=e.posX-this.spriteWidth&&this.posX<=e.posX+e.spriteWidth&&(i=!0,e.color=s)})),i?(0,J.A)(ie,this,!0):(0,J.A)(ie,this,!1)}checkBound(){let e=(0,_.A)(V,this)?this.config.velFactor*this.velXFast:this.config.velFactor*this.velX;this.collisionCenterX>this.config.width/2-this.spriteWidth/2&&this.collisionCenterX<=this.config.width/2-this.spriteWidth/2+e?this.posX=this.config.width/2-this.spriteWidth:this.collisionCenterX<-this.config.width/2+this.spriteWidth/2&&this.collisionCenterX>=-this.config.width/2+this.spriteWidth/2-e&&(this.posX=-this.config.width/2)}checkCollisionHappened(){let e="rgb(255, 0, 0)";(0,_.A)(N,this)||(0,_.A)(Z,this)||(0,_.A)(ee,this)||(0,_.A)(te,this)?this.color=e:this.color=this.notCollisionColor}resetJumpStatus(e){(0,J.A)(z,this,e),this.inAirFrame=0,this.elapsedTime=0}}var ne=new WeakMap,re=new WeakMap,he=new WeakMap,ce=new WeakMap;class le{get AkeyDown(){return(0,_.A)(re,this)}get DkeyDown(){return(0,_.A)(he,this)}get fasten(){return(0,_.A)(ne,this)}set AkeyDown(e){(0,J.A)(re,this,e)}set DkeyDown(e){(0,J.A)(he,this,e)}set fasten(e){(0,J.A)(ne,this,e)}constructor(e,t,s){(0,E.A)(this,ne,void 0),(0,E.A)(this,re,!1),(0,E.A)(this,he,!1),(0,E.A)(this,ce,!1),this.player=e,this.obstacles=t,this.scrollDirection="left",this.scrollIsMoving=!1,this.scrollVelX=1,this.scrollFastVelX=3,this.config=s}get isMoving(){return this.player.enableScroll&&!this.player.isBlockHorizontal&&(!this.player.isAtBuffer&&!(0,_.A)(ce,this)&&(this.player.isAtLeftScrollLine&&(0,_.A)(re,this)||this.player.isAtRightSection&&(0,_.A)(he,this))||this.player.isAtLeftBorder&&(0,_.A)(re,this)||this.player.isAtRightBorder&&(0,_.A)(he,this))}goLeft(){this.player.direction="left",this.player.isMove=!0,this.scrollDirection="right",this.AkeyDown=!0}stopGoLeft(){this.player.isMove=!1,this.AkeyDown=!1}goRight(){this.player.direction="right",this.player.isMove=!0,this.scrollDirection="left",this.DkeyDown=!0}stopGoRight(){this.player.isMove=!1,this.DkeyDown=!1}jump(){let e=this.player;(e.bottomY===this.config.groundLevel||!e.jump&&e.velG>0&&e.jumpTimes<e.topJumpTimes)&&(e.jumpTimes<e.topJumpTimes&&e.isInAir&&e.jumpTimes++,console.log("jump"),e.resetJumpStatus(!0)),e.SpaceKeyDown=!0}stopJump(){this.player.resetJumpStatus(!1),this.player.SpaceKeyDown=!1}accelerate(){this.player.fasten=!0,this.fasten=!0}stopAccelerate(){this.player.fasten=!1,this.fasten=!1}setScrollControls(){let e=this.player;window.onkeydown=t=>{switch((0,J.A)(ce,this,!1),t.key){case"a":case"A":case"ArrowLeft":e.direction="left",e.isMove=!0,e.AkeyDown=!0,(0,J.A)(re,this,!0),this.scrollDirection="right",(0,_.A)(he,this)&&e.isWithinRightSection&&(0,J.A)(ce,this,!0);break;case"d":case"D":case"ArrowRight":e.direction="right",e.isMove=!0,e.DkeyDown=!0,(0,J.A)(he,this,!0),this.scrollDirection="left";break;case"w":case"W":case"ArrowUp":break;case"s":case"S":case"ArrowDown":break;case"Shift":this.accelerate();break;case" ":this.jump();break}},window.onkeyup=t=>{switch((0,J.A)(ce,this,!1),t.key){case"a":case"A":case"ArrowLeft":e.AkeyDown=!1,e.DkeyDown?e.direction="right":e.isMove=!1,(0,J.A)(re,this,!1),(0,_.A)(he,this)&&(this.scrollDirection="left");break;case"d":case"D":case"ArrowRight":e.DkeyDown=!1,e.AkeyDown?e.direction="left":e.isMove=!1,(0,J.A)(he,this,!1),(0,_.A)(re,this)&&(this.scrollDirection="right");break;case"w":case"W":case"ArrowUp":case"s":case"S":case"ArrowDown":break;case"Shift":this.stopAccelerate();break;case" ":this.stopJump();break}}}scroll(){this.isMoving&&("left"===this.scrollDirection?this.obstacles.forEach((e=>{e.posX-=(0,_.A)(ne,this)?this.config.velFactor*this.scrollFastVelX:this.config.velFactor*this.scrollVelX})):this.obstacles.forEach((e=>{e.posX+=(0,_.A)(ne,this)?this.config.velFactor*this.scrollFastVelX:this.config.velFactor*this.scrollVelX})))}}var ae=s(1114),pe=new WeakMap;class de{constructor(e,t,s,i){(0,ae.A)(this,"averageFrames",0),(0,ae.A)(this,"start",void 0),(0,ae.A)(this,"preTimeStamp",void 0),(0,ae.A)(this,"prestamp",void 0),(0,ae.A)(this,"frames",0),(0,E.A)(this,pe,!0),this.player=e,this.obstacles=t,this.scrollEngine=s,this.config=i}run(e){void 0===this.start&&(this.start=e,this.preTimeStamp=this.prestamp=e);const t=e-this.preTimeStamp;if(t<this.config.msPerFrame)return void window.requestAnimationFrame(this.run.bind(this));this.frames++;const s=t%this.config.msPerFrame;this.preTimeStamp=e-s,this.config.ctx.fillStyle="#222",this.config.ctx.fillRect(-this.config.width/2,-3*this.config.height/4,this.config.width,this.config.height),this.config.ctx.strokeStyle="white",this.config.ctx.lineWidth=1,this.config.ctx.font="18px arial",this.config.ctx.strokeText("Scroll Engine Test",-this.config.width/2+10,-3*this.config.height/4+36),this.config.ctx.strokeStyle="yellow",this.config.ctx.lineWidth=1,this.config.ctx.font="18px sans-serif",this.config.ctx.strokeText(`FPS: ${this.averageFrames.toFixed(2)}`,this.config.width/2-100,-3*this.config.height/4+36),this.obstacles.forEach((e=>{e.draw()})),this.player.draw(),this.player.checkMovement(),this.player.collisionDetect(this.obstacles),this.player.checkCollisionHappened(),this.player.checkBound(),this.scrollEngine.scroll();const i="blue",o="green";this.player.isAtRightSection||this.player.isAtLeftScrollLine||this.player.isAtLeftBorder||this.player.isAtRightBorder?this.player.scrollActiveColor=i:this.player.scrollActiveColor=o,(0,_.A)(pe,this)&&(this.config.ctx.beginPath(),this.config.ctx.strokeStyle="rgba(255, 255, 0, 0.2)",this.config.ctx.setLineDash([5,5]),this.config.ctx.moveTo(this.config.centerLineX,-3*this.config.height/4),this.config.ctx.lineTo(this.config.centerLineX,this.config.height/4),this.config.ctx.stroke(),this.config.ctx.moveTo(this.config.leftScrollLeft,-3*this.config.height/4),this.config.ctx.lineTo(this.config.leftScrollLeft,this.config.height/4),this.config.ctx.stroke(),this.config.ctx.moveTo(this.config.leftScrollRight,-3*this.config.height/4),this.config.ctx.lineTo(this.config.leftScrollRight,this.config.height/4),this.config.ctx.stroke(),this.config.ctx.setLineDash([])),window.requestAnimationFrame(this.run.bind(this))}calcFrames(){setInterval((()=>{this.averageFrames=this.frames,this.frames=0}),1e3)}}var fe=s.p+"img/walk-left.2ed31eeb.png",ge=s.p+"img/walk-right.66077350.png";const ue=500,me=281.25,Ae=me/4,ve=0,we=-10,ye=10,Pe=80,Xe=-ue/2+Pe-10,ke=-ue/2+Pe+10,be=60,Le=1e3/be,Ue=60/be,Ce=.5,xe={width:ue,height:me,groundLevel:Ae,centerLineX:ve,centerLeft:we,centerRight:ye,leftScrollCenterFactor:Pe,leftScrollLeft:Xe,leftScrollRight:ke,fps:be,msPerFrame:Le,velFactor:Ue,scale:Ce};let Se,De,$e,Fe=[];var Me={name:"App",components:{MyCanvas:u,GamePad:B},methods:{onGamePadUpPressed(){console.log("game pad up pressed")},onGamePadUpUnpressed(){console.log("game pad up unpressed")},onGamePadDownPressed(){console.log("game pad down pressed")},onGamePadDownUnpressed(){console.log("game pad down unpressed")},onGamePadRightPressed(){$e.goRight(),console.log(`${Se.direction} isMove:${Se.isMove}`),this.$refs["debug-info-left"].textContent=`${Se.direction} isMove:${Se.isMove}`},onGamePadRightUnPressed(){$e.stopGoRight(),console.log(`${Se.direction} isMove:${Se.isMove}`),this.$refs["debug-info-left"].textContent=`${Se.direction} isMove:${Se.isMove}`},onGamePadLeftPressed(){$e.goLeft(),console.log(`${Se.direction} isMove:${Se.isMove}`),this.$refs["debug-info-left"].textContent=`${Se.direction} isMove:${Se.isMove}`},onGamePadLeftUnpressed(){$e.stopGoLeft(),console.log(`${Se.direction} isMove:${Se.isMove}`),this.$refs["debug-info-left"].textContent=`${Se.direction} isMove:${Se.isMove}`},onGamePadXPressed(){console.log("game pad X pressed")},onGamePadXUnpressed(){console.log("game pad X unpressed")},onGamePadYPressed(){console.log("game pad Y pressed")},onGamePadYUnpressed(){console.log("game pad Y unpressed")},onGamePadAPressd(){$e.accelerate(),console.log(`player-fasten:${Se.fasten} scroll-engine-fasten:${$e.fasten}`),this.$refs["debug-info-right"].textContent=`player-fasten:${Se.fasten} scroll-engine-fasten:${$e.fasten}`},onGamePadAUnpressd(){$e.stopAccelerate(),console.log(`player-fasten:${Se.fasten} scroll-engine-fasten:${$e.fasten}`),this.$refs["debug-info-right"].textContent=`player-fasten:${Se.fasten} scroll-engine-fasten:${$e.fasten}`},onGamePadBPressed(){$e.jump(),console.log(`player-jump:${Se.jump||Se.SpaceKeyDown}`),this.$refs["debug-info-right"].textContent=`player-jump:${Se.jump||Se.SpaceKeyDown}`},onGamePadBUnpressed(){$e.stopJump(),console.log(`player-jump:${Se.jump||Se.SpaceKeyDown}`),this.$refs["debug-info-right"].textContent=`player-jump:${Se.jump||Se.SpaceKeyDown}`}},mounted(){const e=this.$refs["my-canvas"].provider.context;xe.ctx=e,e.fillStyle="rgb(0,0,0)",e.fillRect(0,0,ue,me),e.translate(ue/2,3*me/4);let t=new Image,s=new Image;t.src=fe,s.src=ge;let i="rgb(0, 255, 0)",o="orange",n="rgb(0, 255, 0)",r=["rectangle_stroke","rectangle_fill"],h=74*xe.scale;this.$refs["my-app"].style["height"]=`${window.innerHeight}px`,this.$refs["my-app"].style["width"]=`${window.innerWidth}px`,Promise.all([t,s]).then((e=>{Se=new oe(e[0],e[1],[-ue/2+10,-37],10,5,[102*xe.scale,148*xe.scale],n,xe),Fe.push(new H([-ue/2+300*xe.scale,h],[ue,me/4-h],i,r[1],xe)),Fe.push(new H([-ue/2+300*xe.scale+ue,h],[ue/4,me/4-h],o,r[1],xe,!0)),Fe.push(new H([-ue/2+300*xe.scale+1.25*ue,h],[ue/2,me/4-h],i,r[1],xe)),Fe.push(new H([-ue/2+300*xe.scale+1.75*ue,h],[ue/4,me/4-h],o,r[1],xe,!0)),Fe.push(new H([-ue/2+300*xe.scale+2*ue,h],[ue/2,me/4-h],i,r[1],xe)),Fe.push(new H([-ue/2+300*xe.scale+2.5*ue,0],[ue/4,me/4-h],o,r[1],xe,!0)),Fe.push(new H([-ue/2+300*xe.scale+2.75*ue,h],[ue/2,me/4-h],i,r[1],xe)),Fe.push(new H([-ue/2+300*xe.scale+3.45*ue,h],[ue/2,me/4-h],i,r[1],xe)),Fe.push(new H([100,-3],[75,40],i,r[1],xe)),Fe.push(new H([137,-38],[75,50],i,r[1],xe)),Fe.push(new H([-200,-125],[75,5],i,r[1],xe)),Fe.push(new H([-25,-80],[75,5],i,r[1],xe)),Fe.push(new H([400,-13],[125,50],i,r[1],xe)),Fe.push(new H([600,-13],[125,50],i,r[1],xe)),Fe.push(new H([900,-13],[125,50],i,r[1],xe)),Fe.push(new H([1050,-73],[125,12],i,r[1],xe)),Fe.push(new H([1350,-40],[100,12],i,r[1],xe)),$e=new le(Se,Fe,xe),$e.setScrollControls(),De=new de(Se,Fe,$e,xe),De.run(0),De.calcFrames()}))}};const We=(0,f.A)(Me,[["render",c]]);var Ye=We;(0,i.Ef)(Ye).mount("#app")}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,i,o,n){if(!i){var r=1/0;for(a=0;a<e.length;a++){i=e[a][0],o=e[a][1],n=e[a][2];for(var h=!0,c=0;c<i.length;c++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[c])}))?i.splice(c--,1):(h=!1,n<r&&(r=n));if(h){e.splice(a--,1);var l=o();void 0!==l&&(t=l)}}return t}n=n||0;for(var a=e.length;a>0&&e[a-1][2]>n;a--)e[a]=e[a-1];e[a]=[i,o,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,r=i[0],h=i[1],c=i[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in h)s.o(h,o)&&(s.m[o]=h[o]);if(c)var a=c(s)}for(t&&t(i);l<r.length;l++)n=r[l],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(a)},i=self["webpackChunkscroll_engine_vue"]=self["webpackChunkscroll_engine_vue"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(5147)}));i=s.O(i)})();
//# sourceMappingURL=app.8268deca.js.map